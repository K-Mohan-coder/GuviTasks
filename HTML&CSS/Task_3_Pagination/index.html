<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Project</title>
    <script src="https://cdn.tailwindcss.com"></script> 
</head>
<body style="background-color: #000c25;">
    <header>

        <div class="w-1/2 mx-auto" style="padding-top: 3%;">
            <h1 class="mb-4 text-3xl font-extrabold text-gray-900 dark:text-white md:text-5xl lg:text-6xl">Mini Task :<span class="text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400">Pagination </span> </h1>
        </div>
    </header>


    <div id="output"><font color="white"></font></div>

    <div class="w-1/2 mx-auto">
        <div class="grid grid-cols-2 gap-2" style="padding-top: 5%;" id="pagination-div"></div>
    </div>

    <div class="w-full flex justify-center " id="pagination-bar"></div>
  
    <!-- <script src="https://app.zenclass.in/sheets/v1/js/zen/suite/bundle.js"></script> -->

    <script>
    const url = 'https://gist.githubusercontent.com/rvsp/add40254aa126f045837fa5b51f47f1f/raw/4d724bfabf4cce7379a386e23bef6576ab99a2f9/pagination.json';
    const cardsPerPage = 10;
    let currentPage = 1;
    let totalPages = 1;
    let allData = [];

    function renderCards(data, page = 1) {
      const container = document.getElementById("pagination-div");
      container.innerHTML = ""; 

      const startIndex = (page - 1) * cardsPerPage;
      const endIndex = startIndex + cardsPerPage;
      const paginatedData = data.slice(startIndex, endIndex);

      paginatedData.forEach(user => {
        const card = document.createElement('div');
        card.id=user.id
        card.className = 'p-6 bg-white border border-gray-200 rounded-lg shadow-sm dark:bg-gray-800 dark:border-gray-700';
        card.innerHTML = `
          <a href="#">
            <h5 class="mb-2 text-2xl font-semibold tracking-tight text-gray-900 dark:text-white" >ID: ${user.id}</h5>
          </a>
          <p class="mb-3 font-normal text-gray-500 dark:text-gray-400">
            Name: ${user.name}<br>Email: ${user.email}
          </p>
        `;
        container.appendChild(card);
      });
    }

    function renderPaginationBar(totalPages) {
      const paginationBar = document.getElementById('pagination-bar');
      paginationBar.innerHTML = "";

      const prev = document.createElement("li");
      prev.innerHTML = `<a href="#" class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
        <span class="sr-only">Previous</span>
        <svg class="w-3 h-3 rtl:rotate-180" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
        </svg>
      </a>`;
      prev.addEventListener("click", () => {
        if (currentPage > 1) {
          currentPage--;
          renderCards(allData, currentPage);
          renderPaginationBar(totalPages);
        }
      });
      paginationBar.appendChild(prev);

      for (let i = 1; i <= totalPages; i++) {
        const li = document.createElement("li");
        li.innerHTML = `<a href="#" class="flex items-center justify-center px-4 h-10 leading-tight ${
          i === currentPage
            ? "text-blue-600 border border-blue-300 bg-blue-50 dark:border-gray-700 dark:bg-gray-700 dark:text-white"
            : "text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
        }">${i}</a>`;
        li.addEventListener("click", () => {
          currentPage = i;
          renderCards(allData, currentPage);
          renderPaginationBar(totalPages);
        });
        paginationBar.appendChild(li);
      }

      const next = document.createElement("li");
      next.innerHTML = `<a href="#" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
        <span class="sr-only">Next</span>
        <svg class="w-3 h-3 rtl:rotate-180" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
        </svg>
      </a>`;
      next.addEventListener("click", () => {
        if (currentPage < totalPages) {
          currentPage++;
          renderCards(allData, currentPage);
          renderPaginationBar(totalPages);
        }
      });
      paginationBar.appendChild(next);
    }

    fetch(url)
      .then(res => res.json())
      .then(data => {
        allData = data;
        totalPages = Math.ceil(allData.length / cardsPerPage);
        renderCards(allData, currentPage);
        renderPaginationBar(totalPages);
      })
      .catch(err => console.error("Fetch error:", err));

    </script>
</body>
</html>
